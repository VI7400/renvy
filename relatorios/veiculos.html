<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Renvy — Relatório de Veículos</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="../assets/favicon.png">
    <link rel="stylesheet" href="../css/style.css">

    <script>const s = JSON.parse(localStorage.getItem('sessionUser') || 'null'); if (!s || s.role !== 'admin') location.href = '../cliente/login.html';</script>
</head>

<body class="contrast">
    <header class="topbar">
        <div class="brand"><img src="../assets/logo.png" alt="Renvy"> Relatório de Veículos</div>
        <nav class="menu"><a href="../admin.html">Painel</a><a href="../cadastros/veiculos.html">Cadastro</a></nav>
    </header>
    <main class="container">
        <section class="card"><input id="busca" placeholder="Buscar" />
            <table id="tabela" class="tabela"></table>
        </section>
    </main>
    <footer class="footer">© 2025 Renvy Locadora — Todos os direitos reservados.</footer>
    <script src="../js/storage.js"></script>
    <script src="../js/utils.js"></script>
    <script>
        const dados = getArray('veiculos'); const tabela = document.getElementById('tabela');
        function render(d) { renderTable(tabela, d, ['id', 'modelo', 'placa', 'categoria', 'diaria']); }
        render(dados); document.getElementById('busca').oninput = () => { const q = busca.value.toLowerCase(); render(dados.filter(x => x.modelo.toLowerCase().includes(q) || x.placa.toLowerCase().includes(q))); };
    </script>
</body>

</html>